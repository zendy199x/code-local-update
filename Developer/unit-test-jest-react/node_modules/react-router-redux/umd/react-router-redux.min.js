!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("prop-types"),require("react-router")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","react-router"],e):e(t.ReactRouterRedux={},t.React,t.PropTypes,t.ReactRouter)}(this,function(t,e,r,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t){return function(){for(var e=arguments.length,r=Array(e),o=0;e>o;o++)r[o]=arguments[o];return{type:y,payload:{method:t,args:r}}}}var c="default"in e?e.default:e;r=r&&r.hasOwnProperty("default")?r.default:r;var p=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},s="@@router/LOCATION_CHANGE",l={location:null},f=function(t){function e(){var r,o,i;n(this,e);for(var u=arguments.length,c=Array(u),p=0;u>p;p++)c[p]=arguments[p];return r=o=a(this,t.call.apply(t,[this].concat(c))),o.handleLocationChange=function(t){o.store.dispatch({type:s,payload:t})},i=r,a(o,i)}return i(e,t),e.prototype.componentWillMount=function(){var t=this.props,e=t.store,r=t.history;this.store=e||this.context.store,this.handleLocationChange(r.location)},e.prototype.componentDidMount=function(){var t=this.props.history;this.unsubscribeFromHistory=t.listen(this.handleLocationChange)},e.prototype.componentWillUnmount=function(){this.unsubscribeFromHistory&&this.unsubscribeFromHistory()},e.prototype.render=function(){return c.createElement(o.Router,this.props)},e}(e.Component);f.propTypes={store:r.object,history:r.object,children:r.node},f.contextTypes={store:r.object};var h=function(t){return t.router.location},y="@@router/CALL_HISTORY_METHOD",d=u("push"),b=u("replace"),g=u("go"),v=u("goBack"),O=u("goForward"),m={push:d,replace:b,go:g,goBack:v,goForward:O};t.ConnectedRouter=f,t.routerMiddleware=function(t){return function(){return function(e){return function(r){if(r.type!==y)return e(r);var o=r.payload,n=o.method,a=o.args;t[n].apply(t,a)}}}},t.getLocation=h,t.createMatchSelector=function(t){var e=null,r=null;return function(n){var a=h(n).pathname;if(a===e)return r;e=a;var i=o.matchPath(a,t);return i&&r&&i.url===r.url||(r=i),r}},t.LOCATION_CHANGE=s,t.routerReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.type,o=e.payload;return r===s?p({},t,{location:o}):t},t.CALL_HISTORY_METHOD=y,t.push=d,t.replace=b,t.go=g,t.goBack=v,t.goForward=O,t.routerActions=m,Object.defineProperty(t,"__esModule",{value:!0})});
